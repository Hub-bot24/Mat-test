<!doctype html>
<html><head><meta charset="utf-8"><title>SW Kill</title>
<style>body{font:16px system-ui;padding:24px}button{padding:10px 14px}</style></head>
<body>
<h1>Clear Cache & Unregister SW</h1>
<p>Click to remove all caches and unregister service workers, then reload.</p>
<button id="go">Clear Cache & Reload</button>
<pre id="log"></pre>
<script>
document.getElementById('go').onclick = async ()=>{
  const log = (t)=>document.getElementById('log').textContent += t + "\n";
  if('caches' in window){
    const keys = await caches.keys();
    for(const k of keys){ await caches.delete(k); log('Deleted cache: ' + k); }
  }
  if('serviceWorker' in navigator){
    const regs = await navigator.serviceWorker.getRegistrations();
    for(const r of regs){ await r.unregister(); log('Unregistered SW'); }
  }
  location.reload(true);
};
</script>
</body></html>
