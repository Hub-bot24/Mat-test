<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>QVC – Page 1 (Cover)</title>
<link rel="stylesheet" href="style.css">
<script defer src="app.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <img class="logo" src="colas-logo.svg" alt="Colas Logo">
      <div>
        <h1 class="h1">Spray Seal QA Lot Pack — New Works &amp; Reseal QA V1</h1>
        <div class="version js-version">v3.18 Pro — 2025-09-16 — J. Hugo</div>
      </div>
    </div>

    <!-- Section 1 (left) -->
    <div class="grid-1">
      <div>
        <div class="grid-label">Job No.</div>
        <input class="input" id="jobNo" autocomplete="off">
      </div>
      <div>
        <div class="grid-label">Project Name</div>
        <input class="input" id="projectName" autocomplete="off">
      </div>
      <div>
        <div class="grid-label">Lot Number</div>
        <input class="input" id="lotNumber" autocomplete="off">
      </div>
      <div>
        <div class="grid-label">Description</div>
        <textarea class="input" id="description"></textarea>
      </div>
    </div>

    <hr class="sep">

    <div class="section-title">KEY DATES:</div>
    <div class="row">
      <div>
        <div class="grid-label">Work Start</div>
        <input class="input" type="date" id="workStart">
      </div>
      <div>
        <div class="grid-label">Work End</div>
        <input class="input" type="date" id="workEnd">
      </div>
    </div>
    <div class="row" style="margin-top:10px">
      <div>
        <div class="grid-label">Guaranteed</div>
        <input class="input" type="date" id="guaranteed">
      </div>
      <div>
        <div class="grid-label">Conformed</div>
        <input class="input" type="date" id="conformed" placeholder="">
      </div>
    </div>

    <hr class="sep">

    <div class="row">
      <div>
        <div class="grid-label">Grade</div>
        <input class="input" id="grade">
      </div>
      <div>
        <div class="grid-label">Total Litres</div>
        <input class="input" id="totalLitres">
      </div>
    </div>
    <div class="row">
      <div>
        <div class="grid-label">Aggregate Size (mm)</div>
        <input class="input" id="aggSize">
      </div>
      <div>
        <div class="grid-label">Bitumen</div>
        <input class="input" id="bitumen">
      </div>
    </div>
    <div class="row">
      <div>
        <div class="grid-label">m³</div>
        <input class="input" id="m3">
      </div>
      <div>
        <div class="grid-label">Kerosene</div>
        <input class="input" id="kerosene">
      </div>
    </div>
    <div class="row">
      <div>
        <div class="grid-label">Additive</div>
        <input class="input" id="additive">
      </div>
      <div></div>
    </div>

    <hr class="sep">

    <div class="section-title">Attachments</div>
    <div class="attach-grid" id="attachGrid">
      <!-- Left column -->
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>QVC Attached</span></div>
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Site Memo</span></div>

      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Agg Test Results</span></div>
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Ball Penetration Test</span></div>

      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Sample Tins</span></div>
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Spray Sheet</span></div>

      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Test Report</span></div>
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Photos</span></div>

      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>Delivery Docket</span></div>
      <div class="tri-wrap"><button class="tri" data-state="0"></button><input type="hidden" value="0"><span>NCRs</span></div>
    </div>

    <div class="actions">
      <button class="btn btn-primary" onclick="window.print()">PDF</button>
      <button class="btn btn-warn" id="resetBtn">Reset All</button>
    </div>

    <div class="nav actions">
      <button class="btn btn-outline" data-nav="page6.html">Go to Page 6</button>
    </div>

    <div class="footer"><span class="js-version">v3.18 Pro — 2025-09-16 — J. Hugo</span></div>
  </div>

<script>
// Link dates: Work Start auto-copies into Work End & Guaranteed if those are empty or identical to previous auto-set
(function(){
  const s = document.getElementById('workStart');
  const e = document.getElementById('workEnd');
  const g = document.getElementById('guaranteed');
  let lastAutoE = "", lastAutoG = "";
  s.addEventListener('change', () => {
    if(!e.value || e.value===lastAutoE){ e.value = s.value; lastAutoE = s.value; }
    if(!g.value || g.value===lastAutoG){ g.value = s.value; lastAutoG = s.value; }
  });
})();

// Reset
document.getElementById('resetBtn').addEventListener('click', ()=>{
  document.querySelectorAll('.input').forEach(el=>el.value='');
  document.querySelectorAll('.tri').forEach(b=>{ b.setAttribute('data-state','0'); b.textContent=''; b.classList.remove('ok','bad'); });
});

// Tri-state setup
setupTriState(document);
</script>
</body>
</html>
